<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–í–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞ üíò</title>
  <style>
    body{
      margin:0;height:100vh;display:flex;align-items:center;justify-content:center;
      font-family:Arial,sans-serif;overflow:hidden;
      background: linear-gradient(135deg, #ffb6d5, #fff0f7);
    }
    .card{
      width:min(520px, calc(100% - 30px));
      height:340px;
      background:rgba(255,255,255,.92);
      border-radius:26px;
      padding:26px;
      position:relative;
      box-shadow:0 18px 50px rgba(0,0,0,.16);
      text-align:center;
    }
    h1{margin:0;color:#ff2f76;font-size:24px;}
    .zone{
      margin-top:46px;
      height:120px;
      position:relative;
      border-radius:18px;
    }
    button{
      padding:14px 28px;
      font-size:18px;
      border:none;border-radius:16px;
      cursor:pointer; user-select:none; touch-action:manipulation;
      transition:transform .15s ease, filter .15s ease;
    }
    #yes{
      background:#ff2f76;color:#fff;font-weight:800;
      position:absolute; left:50%; transform:translateX(-115px);
      top:20px; z-index:3;
      box-shadow:0 10px 25px rgba(255,47,118,.35);
    }
    #no{
      background:#eee;color:#222;
      position:absolute; left:50%; transform:translateX(60px);
      top:20px; z-index:2;
    }
    #result{margin-top:18px;min-height:30px;font-size:22px;font-weight:800;color:#ff2f76;}
    #fun{margin-top:8px;min-height:22px;color:#444;}
    .signature{
      position:absolute;right:14px;bottom:12px;
      font-size:13px;color:rgba(0,0,0,.45);font-style:italic;
      user-select:none;
    }

    /* —á–∞—Å—Ç–∏—Ü—ã */
    .p{position:absolute;top:-30px;pointer-events:none;animation:fall 2.8s linear forwards;}
    @keyframes fall{to{transform:translateY(115vh) rotate(720deg);opacity:0}}

    /* —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ–≤–µ—Ä–ª–µ–π */
    .overlay{
      position:fixed;inset:0;display:none;
      background:rgba(255,240,247,.72);
      backdrop-filter: blur(6px);
      align-items:center;justify-content:center;
      z-index:999;
    }
    .overlay .big{
      background:white;border-radius:26px;
      padding:28px 26px;
      box-shadow:0 20px 70px rgba(0,0,0,.22);
      text-align:center;
      width:min(560px, calc(100% - 24px));
    }
    .overlay h2{margin:0 0 10px;font-size:30px;color:#ff2f76;}
    .overlay p{margin:0;font-size:18px;color:#333;}
  </style>
</head>
<body>
  <div class="card" id="card">
    <h1>–ê–ª–µ—Å—è, —Ç—ã –±—É–¥–µ—à—å –º–æ–µ–π –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π? üíò</h1>

    <div class="zone" id="zone">
      <button id="yes">–î–∞ üíñ</button>
      <button id="no">–ù–µ—Ç</button>
    </div>

    <div id="result"></div>
    <div id="fun"></div>
    <div class="signature">–ù–∏–∫–∏—Ç–∞ –ó–∞—Ö–ª–µ—Å—Ç–Ω—ã—Ö</div>
  </div>

  <div class="overlay" id="overlay">
    <div class="big">
      <h2>–ü–û–ó–î–†–ê–í–õ–Ø–Æ üíçüíñ</h2>
      <p>–¢–µ–ø–µ—Ä—å –≤—ã –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ <b>–º—É–∂ –∏ –∂–µ–Ω–∞</b> (–ø–æ –≤–µ—Ä—Å–∏–∏ —ç—Ç–æ–≥–æ —Å–∞–π—Ç–∞) üòé</p>
      <p style="margin-top:10px;">–ù–∞–∂–º–∏ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É, –µ—Å–ª–∏ —Ö–æ—á–µ—à—å –ø—Ä–æ–π—Ç–∏ –∏—Å–ø—ã—Ç–∞–Ω–∏–µ —Å–Ω–æ–≤–∞ üòÇ</p>
    </div>
  </div>

  <script>
    const zone = document.getElementById("zone");
    const yes = document.getElementById("yes");
    const no = document.getElementById("no");
    const result = document.getElementById("result");
    const fun = document.getElementById("fun");
    const overlay = document.getElementById("overlay");

    let yesScale = 1;
    let tries = 0;

    const excuses = [
      "–æ–π –Ω–µ —Ç—É–¥–∞ üòÇ",
      "–∫–Ω–æ–ø–∫–∞ ¬´–ù–µ—Ç¬ª –Ω–∞ –ø–µ—Ä–µ—Ä—ã–≤–µ üò¥",
      "–ê–ª–µ—Å—è, –Ω—É –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ üíñ",
      "—Ç—ã —Å–µ—Ä—å—ë–∑–Ω–æ? üò≥",
      "–Ω—É –Ω–µ –Ω–∞–∂–∏–º–∞–π üò≠",
      "—è —â–∞—Å —É–±–µ–≥—É!!! üèÉ‚Äç‚ôÇÔ∏è",
      "–î–ê –≤—ã–±–∏—Ä–∞–π üòà",
      "–ø–æ—Å–ª–µ–¥–Ω–∏–π —à–∞–Ω—Å... –Ω—É –¥–∞–≤–∞–π üòÖ"
    ];

    // –ó–∞–ø—Ä–µ—â—ë–Ω–Ω–∞—è –∑–æ–Ω–∞ = –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫ –≤–æ–∫—Ä—É–≥ –∫–Ω–æ–ø–∫–∏ "–î–∞"
    function getYesRectInZone() {
      const zr = zone.getBoundingClientRect();
      const yr = yes.getBoundingClientRect();
      return {
        left: yr.left - zr.left,
        top: yr.top - zr.top,
        right: yr.right - zr.left,
        bottom: yr.bottom - zr.top
      };
    }

    function intersects(a, b){
      return !(a.right < b.left || a.left > b.right || a.bottom < b.top || a.top > b.bottom);
    }

    function moveNo(){
      const zr = zone.getBoundingClientRect();
      const bw = no.offsetWidth;
      const bh = no.offsetHeight;

      const padding = 8;
      const maxX = zr.width - bw - padding;
      const maxY = zr.height - bh - padding;

      const forbidden = getYesRectInZone();
      // —Ä–∞—Å—à–∏—Ä–∏–º –∑–∞–ø—Ä–µ—Ç–Ω—É—é –æ–±–ª–∞—Å—Ç—å, —á—Ç–æ–±—ã —Ç–æ—á–Ω–æ –Ω–µ –Ω–∞–ª–µ–∑–∞–ª–æ
      const padF = 16;
      const forbid = {
        left: forbidden.left - padF,
        top: forbidden.top - padF,
        right: forbidden.right + padF,
        bottom: forbidden.bottom + padF
      };

      // –ø—Ä–æ–±—É–µ–º –Ω–∞–π—Ç–∏ –ø–æ–∑–∏—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç—Å—è —Å "–î–∞"
      for(let i=0;i<60;i++){
        const x = Math.floor(Math.random() * maxX) + padding;
        const y = Math.floor(Math.random() * maxY) + padding;

        const noRect = {left:x, top:y, right:x+bw, bottom:y+bh};
        if(!intersects(noRect, forbid)){
          no.style.left = x + "px";
          no.style.top = y + "px";
          break;
        }
      }

      // —Ä–∞—Å—Ç–∏–º "–î–∞"
      yesScale = Math.min(3.2, yesScale + 0.13);
      yes.style.transform = `translateX(-115px) scale(${yesScale})`;

      fun.textContent = excuses[tries % excuses.length];
      tries++;
    }

    function boom(){
      const emojis = ["üíñ","üíò","üíï","üíó","üíû","üéâ","‚ú®"];
      for(let i=0;i<90;i++){
        const p = document.createElement("div");
        p.className="p";
        p.textContent = emojis[Math.floor(Math.random()*emojis.length)];
        p.style.left = (Math.random()*100) + "vw";
        p.style.fontSize = (14 + Math.random()*22) + "px";
        p.style.animationDuration = (2 + Math.random()*2) + "s";
        document.body.appendChild(p);
        setTimeout(()=>p.remove(), 4500);
      }
    }

    function dodge(e){
      if(e && e.type === "touchstart") e.preventDefault();
      moveNo();
    }

    no.addEventListener("mouseenter", dodge);
    no.addEventListener("touchstart", dodge, {passive:false});
    no.addEventListener("focus", dodge);

    yes.addEventListener("click", ()=>{
      result.textContent = "–Ø –ó–ù–ê–õ!!! üíçüíñ";
      fun.textContent = "–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ: ¬´–ù–µ—Ç¬ª –æ—Ç–º–µ–Ω—è–µ—Ç—Å—è üòÇ";
      boom();

      no.style.display = "none";
      yes.textContent = "–ú–´ –ñ–ï–ù–ê–¢–´ üòé";
      yes.style.transform = `translateX(-115px) scale(3.2)`;

      setTimeout(()=>{ overlay.style.display="flex"; }, 700);
    });

    window.addEventListener("load", ()=>{ moveNo(); });
    window.addEventListener("resize", ()=>{ moveNo(); });
  </script>
</body>
</html>
